<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Mi Municipio - Lista de Funcionarios de un municipio </title>
</head>
<!-- LINK CSS -->
<link rel="stylesheet" href="css/normalize.css">
<link rel="stylesheet" href="css/animate.css">
<link rel="stylesheet" href="css/jquery.dataTables.min.css">
<link rel="stylesheet" href="css/unslider.css">
<link rel="stylesheet" href="css/hamburgers.css">
<link rel="stylesheet" href="css/style.css">
<link rel="icon" type="image/png" href="images/favicon.png" />
<!-- LINK JS -->
<script src="js/jquery.js"></script>
<script src="js/jquery.dataTables.min.js"></script>
<script src="js/dataTables.responsive.min.js"></script>
<script src="js/dataTables.buttons.min.js"></script>
<script src="js/wow.js"></script>
<script src="js/unslider.js"></script>
<script src="js/functions.js"></script>

<body>
    <!-- Header -->
    <div class="header-filtro">
        <div class="header__nav">
            <section class="wow slideInRight" data-wow-duration="1.5s">
                <h1 class="header__title"><i class="material-icons header__title__icon">account_balance</i>Mi Municipio</h1>
            </section>

            <section class="wow slideInDown" data-wow-duration="1.5s">
                <ul class="header__menu">
                    <li class="header__item"><a href="index.html" class="header__link">Inicio</a></li>
                    <li class="header__item"><a href="municipios.html" class="header__link">Municipios</a></li>
                    <li class="header__item active"><a href="funcionarios.html" class="header__link">Funcionarios</a></li>
                    <li class="header__item"><a href="mapa.html" class="header__link">Mapa</a></li>
                    <li class="header__item"><a href="licencia.html" class="header__link">Licencia</a></li>
                    <li class="header__item"><a href="acerca_de.html" class="header__link">Acerca de</a></li>
                </ul>
            </section>
        </div>

        <!-- Header en Responsive -->
        <div class="header--responsive__nav">
            <section class="wow slideInDown" data-wow-duration="1s">
                <!-- Hamburguesa -->
                <div class="hamburger hamburger--collapse">
                    <span class="hamburger-box">
                        <span class="hamburger-inner"></span>
                    </span>
                </div>
            </section>
        </div>
    </div>

    <section class="wow slideInLeft" data-wow-duration="1s">
        <div class="tabla">
            <div class="tabla__wrap">
                <!--select class="tabla__select">
                    <option>Concepción</option>
                    <option>San Pedro</option>
                    <option>Cordillera</option>
                    <option>Guairá</option>
                    <option>Caaguazú</option>
                    <option>Caazapá</option>
                    <option>Itapua</option>
                    <option>Misiones</option>
                    <option>Paraguarí</option>
                    <option>Alto Paraná</option>
                    <option selected>Central</option>
                    <option>Ñeembucú</option>
                    <option>Amambay</option>
                    <option>Canindeyú</option>
                    <option>Presidente Hayes</option>
                    <option>Boquerón</option>
                    <option>Alto Paraguay</option>
                </select>

                <select class="tabla__select">
                    <option>Asunción</option>
                    <option>Luque</option>
                    <option>San Lorenzo</option>
                    <option>Lambaré</option>
                    <option selected>Limpio</option>
                </select>

                <select class="tabla__select">
                    <option>2014</option>
                    <option>2015</option>
                    <option selected>2016</option>
                </select -->
    	   </div>
    	</div>
    </section>
    <table id='datatableFuncionarios'>
        <thead>
            <tr><th>Año</th><th>Mes</th><th>Municipio</th><th>C.I.</th><th>Nombres</th><th>Apellidos</th>
                <th>Sexo</th><th>Presupuestado</th><th>Devengado</th><th>Estado</th><th>Año Ingreso</th>
                <th>PcD</th><th>Horario</th><th>Objeto Gasto</th><th>Cargo</th><th>Función</th></tr>
        </thead>
        <!-- tfoot>
            <tr>
                <th>Año</th><th>Mes</th><th>Municipio</th><th>C.I.</th><th>Nombres</th><th>Apellidos</th>
                <th>Sexo</th><th>Presupuestado</th><th>Devengado</th><th>Estado</th><th>Año Ingreso</th>
                <th>PcD</th><th>Horario</th><th>Objeto Gasto</th><th>Cargo</th><th>Función</th>
            </tr>
        </tfoot -->

    </table>   
    
    
    <!--div class="tabla__wrap">
        <h1 class="tabla__title">Funcionarios que prestan servicios en otros Oee</h1>
    </div>
    <table id='funcionariosDobleRemunerados' width="100%">
         <thead>
             <tr><th>C.I.</th><th>Nombres</th><th>Apellidos</th><th>Sexo</th></tr>
             </thead>
             <tbody id="cuerpoFuncionariosDobleRemunerados">
             </tbody>
     </table-->
    <!-- div class="tabla__wrap">
        <h1 class="tabla__title">Gráficos</h1>
    </div>
    <div class="func__charts">
        <img src="images/dobleRemuneracion.png">
        <img src="images/afiliacion.png">
        <img src="images/personasConDiscapacidad.png">
        <img src="images/hombreMujer.png">
    </div-->
    
    <script type="text/javascript">
    	$(document).ready(function() {	    
		    /* function numeroEntero(numero){
				return numero.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
			}
			
			var funcionarios = $.ajax({
				  url: '/php/funcionarios.php',
			      type:'get',
			      dataType:'json',
			      async:false  
			    }).responseText;
				funcionarios = JSON.parse(funcionarios);
		
		    var cuerpo = '';
		    for(var m = 0; m < funcionarios.length; m++){
		        cuerpo += "<tr><td class='dt-body-center'>"+funcionarios[m].anho+"</td>"+
		        "<td class='dt-body-center'>"+funcionarios[m].mes+"</td>"+
		        "<td>"+funcionarios[m].descripcionOee+"</td>"+
		        "<td class='dt-body-right'>"+numeroEntero(funcionarios[m].documento)+"</td>"+
		        "<td>"+funcionarios[m].nombres+"</td>"+
		        "<td>"+funcionarios[m].apellidos+"</td>"+
		        "<td class='dt-body-center'>"+funcionarios[m].sexo+"</td>"+
		        "<td class='dt-body-right'>"+numeroEntero(funcionarios[m].presupuestado)+"</td>"+        
		        "<td class='dt-body-right'>"+numeroEntero(funcionarios[m].devengado)+"</td>"+        
		        "<td class='dt-body-center'>"+funcionarios[m].estado+"</td>"+
		        "<td class='dt-body-right'>"+funcionarios[m].anhoIngreso+"</td>"+
		        "<td class='dt-body-center'>"+funcionarios[m].discapacidad+"</td>";
		        if(funcionarios[m].cargaHoraria == null){
		        	 cuerpo += "<td></td>";
		        }else{
		        	 cuerpo += "<td>"+funcionarios[m].cargaHoraria+"</td>";
		        }
		        cuerpo += "<td>"+funcionarios[m].objetoGasto+" - "+funcionarios[m].concepto+"</td>";
		        if(funcionarios[m].cargo == null){
		       	     cuerpo += "<td></td></tr>";
		        }else{
		       	      cuerpo += "<td>"+funcionarios[m].cargo+"</td></tr>";
		        }       
		    }
		    $('#cuerpoFuncionarios').append(cuerpo); */
		    
		    
		    
			// Setup - add a text input to each footer cell
    	    /* $('#datatableFuncionarios tfoot th').each( function () {
    	        var title = $(this).text();
    	        $(this).html( '<input type="text" placeholder="Buscar '+title+'" />' );
    	    });  */ 	   
    	    
		   // var table = $('#datatableFuncionarios').DataTable();
		    var table = $('#datatableFuncionarios').DataTable({
		         "bProcessing": true,
		         "serverSide": true,
		         "ajax":{
		            url :"/php/funcionarios.php", // json datasource
		            type: "post",  // type of method  , by default would be get
		            error: function(){  // error handling code
		              $("#datatableFuncionarios_processing").css("display","none");
		            }
		          }
		        });   
		    
		   /* // Apply the search
    	    table.columns().every( function () {
    	        var that = this;
    	 
    	        $( 'input', this.footer() ).on( 'keyup change', function () {
    	            if ( that.search() !== this.value ) {
    	                that
    	                    .search( this.value )
    	                    .draw();
    	            }
    	        } );
    	    }); */
		     	   
		 
    	});
    </script>
</body>
</html>
